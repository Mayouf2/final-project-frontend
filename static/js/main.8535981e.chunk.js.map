{"version":3,"sources":["componants/Home.js","componants/Books.js","componants/Favorite.js","componants/Login.js","componants/Header.js","componants/SignUp.js","componants/OneBook.js","firebase/firebase.js","componants/Profile.js","componants/AddBook.js","componants/Chat.js","componants/UserProfile.js","App.js","index.js"],"names":["Home","token","useState","Books","setBooks","like","setLikes","rating","setRating","posts","setposts","bookTitle","setbookTitle","auther","setauther","desc","setdesc","img","setimg","url","seturl","reviews","setreview","user","setUser","useParams","id","useEffect","a","axios","get","process","headers","authorization","res","data","then","catch","err","console","log","error","addPost","post","copiedArr","push","deletePost","i","delete","splice","ratingChanged","newRating","review","Object","values","Math","floor","random","length","className","for","type","placeholder","onChange","e","target","value","addbookTitle","addauther","addImage","addUrl","name","cols","rows","addDesc","addrating","onClick","map","elme","to","_id","src","alt","count","size","activeColor","href","time","findsearch","setFindsearch","setLike","likedHandleClick","response","removeLike","deleteBook","copyArray","searchFun","filter","toLowerCase","includes","style","color","admin","Favorite","copied","Login","setToken","email","setEmail","password","setPassword","history","useHistory","checkLogin","alert","status","action","method","changeEmail","changePassword","Header","class","SignUp","setName","addUser","changeName","OneBook","books","input","setInput","setcomments","result","addComment","comment","deletecomment","put","description","changeComment","elm","userName","parse","storage","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","Profile","image","setImage","bio","setBio","setUrl","progress","setProgress","updateVes","setupdateVes","deleteProfile","index","Result","htmlFor","updateName","files","updateImg","ref","on","snapshot","round","bytesTransferred","totalBytes","child","getDownloadURL","updateBio","newName","updateUserName","newBio","updateUserBio","newImg","updateUserImage","render","document","querySelector","AddBook","setbooks","setname","setdescription","addBook","addName","addAuther","addImg","addDescription","socket","io","connect","transports","room","Chat","setUserName","currentMessage","setCurrentMessage","messageList","setMessageList","userId","getMessage","res1","chatArr","emit","sendMessage","messageData","message","Date","now","getHours","getMinutes","recipient","list","event","onKeyPress","key","UserProfile","goToChat","require","config","App","saved","localStorage","getItem","JSON","setItem","stringify","exact","path","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8535981e.chunk.js","sourcesContent":["import React  , {useEffect , useReducer, useState} from \"react\";\r\nimport \"./home.css\"\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport { FaHeart } from 'react-icons/fa';\r\nimport { RiDeleteBin5Line } from 'react-icons/ri';\r\n\r\n\r\nimport { FaThumbsDown } from 'react-icons/fa';\r\nimport { FaThumbsUp } from 'react-icons/fa';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function Home({token}) {\r\n  const [Books, setBooks] = useState([])\r\n  const [like , setLikes] = useState([])\r\n  const [rating, setRating] = useState(0)\r\n\r\n\r\n  const [posts, setposts] = useState([])\r\n  const [bookTitle, setbookTitle] = useState(\"\")\r\n  const [auther, setauther] = useState(\"\")\r\n  const [desc, setdesc] = useState(\"\")\r\n  const [img, setimg] = useState(\"\")\r\n  const [url, seturl] = useState(\"\")\r\n  const [postsLikes, setPostsLikes] = useState([])\r\n  const [reviews, setreview] = useState(false)\r\n  const [user, setUser] = useState([])\r\n\r\n\r\n  const { id }= useParams()\r\n\r\n\r\n\r\n  useEffect(async () => {\r\n    if(token){\r\n        const res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/like`, {\r\n          headers: { authorization: \"Bearer \" + token },\r\n        });\r\n        // console.log(res.data);\r\n        setLikes (res.data);\r\n      }\r\n      }, [like]);\r\n\r\n      useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/user`,\r\n        \r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n\r\n        )\r\n       \r\n        .then(res =>{\r\n            setUser(res.data)\r\n          \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    \r\n        \r\n    }, [user])\r\n\r\n      const click = () => {\r\n        \r\n        setreview(!reviews)\r\n}\r\n\r\n\r\n      useEffect(() => {\r\n        const get = async () => {\r\n         await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts` , {\r\n            headers:{authorization: \"Bearer \" + token},\r\n\r\n         })\r\n         .then(res =>{\r\n           \r\n           setposts(res.data)\r\n          //  console.log(res.data);\r\n         })\r\n         .catch(error => {\r\n           console.log(error ,\"err\");\r\n         })\r\n         }\r\n \r\n         get()\r\n         \r\n         }, [posts])\r\n         useEffect(() => {\r\n          const get = async () => {\r\n           await axios.get(`${process.env.REACT_APP_BACKEND_URL}/getbook` , {\r\n              headers:{authorization: \"Bearer \" + token},\r\n  \r\n           })\r\n           .then(res =>{\r\n             \r\n             setBooks(res.data)\r\n            //  console.log(res.data);\r\n           })\r\n           .catch(error => {\r\n             console.log(error ,\"err\");\r\n           })\r\n           }\r\n   \r\n           get()\r\n           \r\n           }, [])\r\n         \r\n   const addbookTitle = (e)=>{\r\n    setbookTitle(e.target.value)\r\n   }      \r\n\r\n   const addauther = (e)=>{\r\n    setauther(e.target.value)\r\n   }\r\n  const addDesc = (e)=>{\r\n    setdesc(e.target.value)\r\n  }\r\n\r\n  const addImage = (e)=>{\r\n    setimg(e.target.value)\r\n  }\r\n  const addrating = (e)=>{\r\n    setRating(e.target.value)\r\n  }\r\n  const addUrl = (e)=>{\r\n    seturl(e.target.value)\r\n  }\r\n\r\n  const addPost = async()=>{\r\n    if(!desc && !img ){\r\n        return;\r\n      }\r\n      const res = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/posts` , {\r\n          desc:desc ,\r\n          img:img,\r\n          bookTitle:bookTitle,\r\n          auther:auther,\r\n          rating:rating,\r\n          url:url\r\n      },\r\n      {\r\n        headers:{authorization: \"Bearer \" + token},\r\n        }\r\n        )\r\n        \r\n        const copiedArr= [...posts];\r\n        copiedArr.push(res.data)\r\n        setposts(copiedArr)\r\n\r\n}\r\n\r\nconst deletePost = async (id, i)=>{\r\nconst deletePost = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/posts/${id}` , \r\n{\r\n        headers:{authorization: \"Bearer \" + token},\r\n        }\r\n);\r\nconst copiedArr= [...posts];\r\ncopiedArr.splice(i,1);\r\nsetposts(copiedArr);\r\nconsole.log(copiedArr);\r\n}\r\n\r\n         const likedHandleClick = async (id) => {\r\n            let response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/like/${id}`, {\r\n                \r\n            },  \r\n            { headers: { authorization: \"Bearer \" + token } }\r\n            );\r\n            \r\n                console.log(response.data)\r\n            }\r\n\r\n      const ratingChanged = (newRating) => {\r\n      console.log(newRating);       \r\n};\r\n\r\n\r\n\r\n\r\nconst result = Object.values(posts);\r\n\r\n\r\n// function shuffleArray(array) {\r\n//   let i = array.length - 1;\r\n//   for (; i > 0; i--) {\r\n//     const j = Math.floor(Math.random() * (i + 1));\r\n//     const temp = array[i];\r\n//     array[i] = array[j];\r\n//     array[j] = temp;\r\n//   }\r\n//   return array;\r\n// }\r\n// const shuffledBooks  = shuffleArray(Books)\r\nlet item = Books[Math.floor(Math.random()*Books.length)];\r\n\r\nconst review = \r\n       <div className=\"formbox1\">\r\n            <h1>Review a book</h1>\r\n            <form id=\"form\" >\r\n            <label for=\"\">Title</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='Title' onChange={(e)=>{addbookTitle(e)}}/>\r\n            <label for=\"\">Auther</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='Auther' onChange={(e)=>{addauther(e)}}/>\r\n            <label for=\"\">Image</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='image'  onChange={(e)=>{addImage(e)}}/>\r\n            <label for=\"\">Link</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='book link'  onChange={(e)=>{addUrl(e)}}/>\r\n            <label for=\"\">Review</label> <br />\r\n            <textarea name=\"\" id=\"\" cols=\"38\" rows=\"3\" placeholder=\"Review\" onChange={(e)=>{addDesc(e)}}></textarea> <br />\r\n            <label for=\"\">Rating</label>\r\n            {/* <input type=\"text\" className=\"asd\" placeholder='Rating'  onChange={(e)=>{addrating(e)}}/> */}\r\n            <select id=\"cars\" name=\"cars\" onChange={(e)=>{addrating(e)}}>\r\n    <option value=\"0\">Rate:</option>\r\n    <option>1</option>\r\n    <option>2</option>\r\n    <option>3</option>\r\n    <option>4</option>\r\n    <option>5</option>\r\n  </select> <br />\r\n            <button type=\"button\" className=\"addButton\" onClick={()=>{addPost();setreview(false);}}>Add</button>\r\n            </form>\r\n            </div>\r\n// console.log(result);\r\n  return (\r\n    <div  className=\"whole\">\r\n    <div className=\"mainHome\">\r\n      <div className=\"leftSide\">\r\n      <h2>WANT TO READ</h2>\r\n      {like.map((elme , i)=>{\r\n            return ( <div key={i}>\r\n                <div className=\"favHome\">   \r\n           <Link  to={`/book/${elme._id}`}>\r\n           <img className=\"HomeImg\" src={elme.img}\r\n              alt=\"\" />\r\n           </Link> \r\n           <div className=\"bookName\">\r\n           <span>{elme.name}</span> {\" \"} \r\n           <span >By: {elme.auther}</span>  {\" \"} <br />\r\n           <ReactStars\r\n                count={5}\r\n                size={24}\r\n                value={elme.rating}\r\n                activeColor=\"#ffd700\" />\r\n           </div> \r\n       </div>\r\n            \r\n        </div>)\r\n        })}\r\n      </div>\r\n\r\n\r\n\r\n      <div className=\"rightSide\">\r\n      <h2>Reviews</h2>\r\n      <div>\r\n    <button className='review' onClick={click}>Review a book</button>\r\n    { reviews ? review : \"\" }\r\n    </div> \r\n      {posts && posts.map((elme , i)=>{\r\n            return ( <div key={i}>\r\n            <div className=\"HomePosts\"> \r\n            \r\n\r\n                <img className=\"HomebookImg\" src={elme.img}\r\n                   alt=\"\" />\r\n                \r\n\r\n              { elme.user &&  <img src={elme.user.img} alt=\"\" className=\"HomeIgm\"/>}\r\n              { elme.user && <span className=\"HomeUserInfo\">{elme.user.name}</span>}\r\n                <h4 className=\"HomeBookInfo\">{elme.bookTitle}</h4>\r\n                <p className=\"HomeBookInfo\">By: {elme.auther}</p>\r\n                <div className=\"stars\">\r\n                <ReactStars\r\n                count={5}\r\n                onChange={ratingChanged}\r\n                size={20}\r\n                value={elme.rating}\r\n                activeColor=\"#ffd700\" />\r\n                </div>\r\n                <a href={elme.url} target=\"_blank\" className=\"url\">want to read?</a>\r\n                <h3 className=\"HomeDesc\">{elme.desc}</h3>\r\n                <Link to={`/Chat/${elme.user._id}/${elme.user.name}`}>\r\n\r\n                <span className=\"discussion\">discuss ?</span>\r\n                </Link>\r\n\r\n                <p className=\"time\">{elme.time}</p>\r\n                <div>\r\n                 <p> \r\n\r\n                 </p>\r\n                </div>\r\n                <div className=\"HomeLikeButton\">\r\n                {/* <FaHeart style={{color:\"black\"}} onClick={()=>{likedHandleClick(elme._id)}} /> */}\r\n                <h6 className=\"hide\"></h6>\r\n                  <RiDeleteBin5Line className=\"deletePostButton\" onClick={()=>{deletePost(elme._id)}}/>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n        })} \r\n      </div> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /><br /> <br /> <br /> <br />\r\n      <div className=\"center\">\r\n        <h1>Recommendation</h1>\r\n           {Books.map((elme)=>{\r\n             return (\r\n               <div  className=\"RecHome\">\r\n               <Link  to={`/book/${elme._id}`}>\r\n                <img className=\"RecbookImg\" src={elme.img}\r\n                   alt=\"\" />\r\n                </Link> \r\n                 <span className=\"nameRec\">{elme.name} </span>  <br />\r\n                 {\" \"}\r\n                 <p className=\"autherRec\">By: {elme.auther}</p> <br />\r\n                 <div className=\"Recstars\">\r\n                <ReactStars\r\n                count={5}\r\n                onChange={ratingChanged}\r\n                size={20}\r\n                value={elme.rating}\r\n                activeColor=\"#ffd700\" />\r\n                </div>\r\n                 <a href={elme.url} target=\"_blank\" className=\"Recurl\">want to read?</a>\r\n\r\n               </div>\r\n             )\r\n           })}\r\n      </div>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n","import React , {useState , useEffect  } from 'react'\r\nimport axios from 'axios'\r\nimport \"./books.css\"\r\nimport { AiFillBook } from 'react-icons/ai';\r\nimport { Link} from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom';\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport { RiDeleteBin5Line } from 'react-icons/ri';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function Books({token}) {\r\n    const [Books, setBooks] = useState([])\r\n    const [findsearch , setFindsearch] = useState(\"\")\r\n    const [like, setLike] = useState([])\r\n    const [rating, setRating] = useState(0)\r\n    const [user, setUser] = useState([]);\r\n\r\n\r\n    const { id }= useParams()\r\n\r\n    // const  [toggleHeart, setToggleHeart] = useState(false)\r\n\r\n    // const changeColor = () =>{\r\n    //  setToggleHeart(!toggleHeart)\r\n    // }\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const get = async () => {\r\n         await axios.get(`${process.env.REACT_APP_BACKEND_URL}/books` , {\r\n            headers:{authorization: \"Bearer \" + token},\r\n\r\n         })\r\n         .then(res =>{\r\n           \r\n           setBooks(res.data)\r\n          //  console.log(res.data);\r\n         })\r\n         .catch(error => {\r\n           console.log(error ,\"err\");\r\n         })\r\n         }\r\n \r\n         get()\r\n         \r\n         }, [])\r\n\r\n         useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/user`,\r\n        \r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n\r\n        )\r\n       \r\n        .then(res =>{\r\n            setUser(res.data)\r\n          \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    \r\n        \r\n    }, [user])\r\n\r\n         useEffect(async () => {\r\n        if(token){\r\n            const res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/like`, {\r\n              headers: { authorization: \"Bearer \" + token },\r\n            });\r\n            // console.log(res.data);\r\n            setLike (res.data);\r\n          }\r\n          }, [like]);\r\n\r\n\r\n       \r\n\r\n        const searchFun = (e)=>{\r\n    \r\n                setFindsearch(e.target.value)\r\n                // console.log((Books));\r\n            \r\n        }\r\n\r\n        const likedHandleClick = async (id) => {\r\n            let response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/like/${id}`, {\r\n                \r\n            },  \r\n            { headers: { authorization: \"Bearer \" + token } }\r\n            );\r\n            \r\n                console.log(response.data)\r\n            }\r\n\r\n        const removeLike = async (id ,i)=>{\r\n            const res = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/like/${id}`,{\r\n              headers:{authorization: \"Bearer \" + token},\r\n            }\r\n            );\r\n        console.log(res.data);\r\n        setLike(res);\r\n \r\n              }\r\n              const changeCoolor=(e)=>{\r\n                setLike(!like)\r\n              }\r\n\r\n              const ratingChanged = (newRating) => {\r\n      setRating(newRating);\r\n};\r\n\r\n\r\nconst deleteBook = async (id , i)=>{\r\n  let res = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/book/${id}` , {\r\n    headers:{authorization: \"Bearer \" + token},\r\n  })\r\n\r\nconst copyArray=[...Books]\r\ncopyArray.splice(i,1)\r\n  setBooks(copyArray)\r\n  \r\n}\r\n            \r\n    \r\n    return (\r\n        <div>\r\n        \r\n        {/* <div className=\"headLine\">\r\n        <h1>Books</h1>\r\n        </div> */}\r\n        \r\n        <div className=\"sreachDiv\">\r\n        <input id='inputSearch'  type=\"text\" placeholder=\"  search\" onChange={(e)=>{searchFun(e)}}/>\r\n        </div>\r\n          \r\n            \r\n        <div className=\"booksMain\">\r\n         \r\n        {Books.filter((elme )=>{\r\n        if(findsearch === \"\"){\r\n            return elme\r\n        }\r\n        else if (elme.name.toLowerCase().includes(findsearch.toLowerCase())){\r\n            return elme\r\n        }\r\n      }).map((elme , i)=>{\r\n        for(let i = 0; i < like.length ; i++) {\r\n                if(like[i]._id === elme._id){\r\n                  return (\r\n                   \r\n                   <div className=\"books\"> \r\n            <Link  to={`/book/${elme._id}`}>\r\n                <img className=\"bookImg\" src={elme.img}\r\n                   alt=\"\" />\r\n                </Link> \r\n                <h3>{elme.name}</h3>\r\n                <p>By: {elme.auther}</p>\r\n                <ReactStars\r\n                count={5}\r\n                onChange={ratingChanged}\r\n                size={24}\r\n                value={elme.rating}\r\n                activeColor=\"#ffd700\" />\r\n                {/* <p>{elme.description}</p> */}\r\n                {/* <p>{elme.price}</p> */}\r\n                {/* <div id='handle'  onClick={()=>{likedHandleClick(elme._id)}}><FaHeart style={{color:\"black\"}} onClick={()=>{changeColor(elme._id)}} /> </div>   */}\r\n            \r\n                   <AiFillBook size={20} style={{color:\"green\"}} onClick={()=>{removeLike(elme._id)}} />\r\n                   {user.admin == true ? (\r\n                    <RiDeleteBin5Line onClick={()=>{deleteBook(elme._id , i)}}/>\r\n                   ):(\r\n                     <p></p>\r\n                   )}\r\n                   \r\n                   </div>\r\n                   \r\n                  )\r\n                }\r\n               }\r\n            return ( <div key={i}>\r\n            <div className=\"books\"> \r\n            \r\n            <Link  to={`/book/${elme._id}`}>\r\n                <img className=\"bookImg\" src={elme.img}\r\n                   alt=\"\" />\r\n                </Link> \r\n                <h3>{elme.name}</h3>\r\n                <p>By: {elme.auther}</p>\r\n                <ReactStars\r\n                count={5}\r\n                onChange={ratingChanged}\r\n                size={24}\r\n                value={elme.rating}\r\n                activeColor=\"#ffd700\" />\r\n                {/* <p>{elme.description}</p> */}\r\n                {/* <p>{elme.price}</p> */}\r\n                {/* <div id='handle'  onClick={()=>{likedHandleClick(elme._id)}}><FaHeart style={{color:\"black\"}} onClick={()=>{changeColor(elme._id)}} /> </div>   */}\r\n                <AiFillBook size={20}  style={{color:\"black\"}} onClick={()=>{likedHandleClick(elme._id)}} />\r\n                {user.admin == true ? (\r\n                    <RiDeleteBin5Line onClick={()=>{deleteBook(elme._id , i)}}/>\r\n                   ):(\r\n                     <p></p>\r\n                   )}\r\n            </div>\r\n        </div>)\r\n        })} \r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React , {useEffect , useState}from 'react'\r\nimport axios from 'axios'\r\nimport { FaHeart } from 'react-icons/fa';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link} from 'react-router-dom';\r\nimport \"./Fav.css\"\r\nimport { RiDeleteBin5Line } from 'react-icons/ri';\r\n\r\n\r\n\r\n\r\n\r\nexport default function Favorite({token}) {\r\n    const [like, setLikes] = useState([])\r\n    // const [Books, setBooks] = useState([])\r\n    const { id }= useParams()\r\n\r\n    useEffect(async () => {\r\n        if(token){\r\n            const res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/like`, {\r\n              headers: { authorization: \"Bearer \" + token },\r\n            });\r\n            // console.log(res.data);\r\n            setLikes (res.data);\r\n          }\r\n          }, [like]);\r\n\r\n    const removeLike = async (id ,i)=>{\r\n            const res = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/like/${id}`,{\r\n              headers:{authorization: \"Bearer \" + token},\r\n            });\r\n        console.log(res.data);\r\n        const copied = [...like]\r\n        copied.splice(i,1)\r\n        setLikes(copied);\r\n                       \r\n              }\r\n    return (\r\n        <div>\r\n        <div className=\"favMain\">\r\n            {like.map((elme , i)=>{\r\n            return ( <div key={i}>\r\n                <div className=\"fav\">    \r\n           <Link  to={`/book/${elme._id}`}>\r\n           <img className=\"FavImg\" src={elme.img}\r\n              alt=\"\" />\r\n           </Link> \r\n           <span className='info'>{elme.name}</span> {\" \"} \r\n           <p className='auther'>By: {elme.auther}</p>  {\" \"} \r\n           <button className='deleteFav' onClick={()=>{removeLike(elme._id)}}><RiDeleteBin5Line/></button>\r\n           {/* <p>{elme.description}</p> */}\r\n           {/* <p>{elme.price}</p> */}\r\n           {/* <div id='handle'  onClick={()=>{likedHandleClick(elme._id)}}><FaHeart id='icon' style={{color:elme.like}} /> </div> */}\r\n           \r\n       </div>\r\n            \r\n        </div>)\r\n        })}\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./login.css\"\r\n\r\n\r\nexport default function Login({setToken}) {\r\n    const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  // you can use variable instded of state in this  case\r\n  const history = useHistory();\r\n  const changeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const changePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const checkLogin = async () => {\r\n    if(email === \"\" || password === \"\"){\r\n      alert(\"Email and Password is required!!\");\r\n    }\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/login`, {\r\n        email: email,\r\n        password: password,\r\n      });\r\n      setToken(response.data.token);\r\n      if(response.status == 200){\r\n        history.push(\"/\");\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n    return (\r\n        <div>\r\n        <div className=\"loginDiv\">\r\n             <div className=\"formbox2\">\r\n        <h3>Log In</h3>\r\n        <form id=\"form\" action=\"\" method=\"post\">\r\n            <label for=\"\">Email</label>\r\n            <input type=\"text\" name=\"username\" placeholder=\"Enter your Email\"  onChange={(e) => {\r\n          changeEmail(e);\r\n        }} className=\"asd\"/>\r\n            <label for=\"\">Password</label>\r\n            <input type=\"password\" placeholder=\"Enter your Password\"   onChange={(e) => {\r\n          changePassword(e);\r\n        }} id=\"\" name=\"password\" className=\"asd\"/>\r\n            <Link  to={`/Login`}>\r\n            <input id=\"btn\" type=\"submit\" name=\"submit\" value=\"Log In\"  onClick={() => {\r\n          checkLogin();\r\n        }} className=\"mainbox2\"/>\r\n            </Link>\r\n            <label for=\"\">New ?</label>\r\n            <Link  to={`/SignUp`}>\r\n            <button  className=\"mainbox2\">Register Now</button>\r\n            </Link>\r\n        </form>\t\r\n    </div>\r\n    </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\n\r\nexport default function Header({ token, setToken }) {\r\n  const [user, setUser] = useState([]);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/user`, {\r\n        headers: { authorization: \"Bearer \" + token },\r\n      })\r\n      .then((res) => {\r\n        setUser(res.data);\r\n        // console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [user, token]);\r\n  return (\r\n    <div>\r\n          {token ? (\r\n            <div className=\"navitems\">\r\n            <div className=\"brand\">\r\n            <img className=\"logo\" src=\"https://www.thesecret.tv/wp-content/uploads/2020/04/icon-books-578x384.png\"/>\r\n             <h1 className=\"title\">Readers</h1>\r\n            </div>\r\n              <Link id=\"navLink\" to=\"/\">\r\n                Home{\" \"}\r\n              </Link>\r\n              <Link id=\"navLink\" to=\"/Books\">\r\n                Books\r\n              </Link>\r\n              <Link id=\"navLink\" to=\"/Favorite\">\r\n                My books\r\n              </Link>\r\n              {/* <Link id=\"navLink\" to=\"/UserProfile\">\r\n                Members\r\n              </Link> */}\r\n\r\n              <div class=\"dropdown\">\r\n                <img className=\"accountImg\" src={user.img} alt=\"\" />\r\n                <span>{user.name}</span>\r\n                <div class=\"dropdown-content\">\r\n                  <Link className=\"dro\" to=\"/Profile\">\r\n                    Profile\r\n                  </Link>\r\n\r\n                  {user.admin == true ? (<Link className=\"dro\" to=\"/AddBook\">\r\n                  Admin dashboard\r\n                  </Link>):(\r\n                  <h1> </h1>\r\n                  )}\r\n                    \r\n                  <Link\r\n                    className=\"dro\"\r\n                    className=\"link\"\r\n                    to=\"/login\"\r\n                    onClick={() => {\r\n                      setToken(\"\");\r\n                    }}\r\n                  >\r\n                    Log out\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"navitems\">\r\n            <div className=\"brand\">\r\n            <img className=\"logo\" src=\"https://www.thesecret.tv/wp-content/uploads/2020/04/icon-books-578x384.png\"/>\r\n             <h1 className=\"title\">Readers</h1>\r\n            </div>\r\n              <Link id=\"navLink\" to=\"/\">\r\n                Home\r\n              </Link>\r\n              <Link id=\"navLink\" to=\"/Books\">\r\n                Books\r\n              </Link>\r\n              <Link id=\"navLink\" to=\"/Login\">\r\n                Login\r\n              </Link>\r\n              <Link id=\"navLink\" to=\"/SignUp\">\r\n                SignUp\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {useHistory} from \"react-router-dom\"\r\nimport axios from \"axios\";\r\nimport \"./signUp.css\"\r\n\r\n\r\n\r\n\r\nexport default function SignUp() {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  // you can use variable instded of state in this  case\r\n  const history = useHistory();\r\n  const changeName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const changeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const changePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const addUser = async () => {\r\n    if(email === \"\" || password === \"\" || name === \"\" ){\r\n      \r\n      alert(\"Email, Password and Name is required!\");\r\n      history.push(\"/SignUp\")\r\n    }\r\n      console.log({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n      });\r\n    const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/signUp`, {\r\n      name: name,\r\n      email: email,\r\n      password: password,\r\n    });\r\n    if (response.status === 201){\r\n        history.push(\"/login\")\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"loginDiv\">\r\n                 <div className=\"formbox3\">\r\n                 <h3>Sign Up</h3>\r\n            <form id=\"form\" >\r\n            <label for=\"\">Name</label>\r\n      <input\r\n      className=\"asd\"\r\n        onChange={(e) => {\r\n          changeName(e);\r\n        }}\r\n        placeholder=\"enter your name\"\r\n      />\r\n<label for=\"\">Email</label>\r\n      <input\r\n      className=\"asd\"\r\n        onChange={(e) => {\r\n          changeEmail(e);\r\n        }}\r\n        placeholder=\"enter your email\"\r\n      />\r\n      <label for=\"\">Password</label>\r\n\r\n      <input\r\n      className=\"asd\"\r\n        onChange={(e) => {\r\n          changePassword(e);\r\n        }}\r\n        type=\"password\"\r\n        placeholder=\"enter your password\"\r\n      />\r\n      <button\r\n      type=\"button\"\r\n      id=\"btn\"\r\n      className=\"mainbox3\"\r\n        onClick={() => {\r\n          addUser();\r\n        }}\r\n      >\r\n        sign up\r\n      </button>\r\n      </form>\t\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React , {useEffect , useState} from 'react'\r\nimport axios from 'axios'\r\nimport { useParams } from 'react-router-dom';\r\nimport \"./OneBook.css\"\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel'\r\nimport { RiDeleteBin5Line } from 'react-icons/ri';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport parse from \"html-react-parser\"\r\n\r\n\r\nimport InputEmoji from 'react-input-emoji'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function OneBook({token}) {\r\n\r\n    const [books, setBooks] = useState(null)\r\n    const { id }= useParams()\r\n    const [input, setInput] = useState(\"\")\r\n    const [comments, setcomments] = useState([])\r\n    const [rating, setRating] = useState(0)\r\n\r\n\r\n    useEffect(async () => {\r\n      if(token){\r\n        const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/book/${id}`,{\r\n          headers: { authorization: \"Bearer \" + token },\r\n        });\r\n        setBooks(result.data);\r\n      }\r\n    }, [books]);\r\n\r\n\r\n    useEffect(async () => {\r\n  const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/comment` , \r\n  { headers: { authorization: \"Bearer \" + token } },\r\n  ) \r\n  setcomments(result.data)\r\n\r\n    } ,  []);\r\n\r\n\r\n    const changeComment=(e)=>{\r\n        setInput(e.target.value)\r\n      }\r\n      const addComment=async()=>{\r\n          try {\r\n            const result = await axios.post(\r\n              `${process.env.REACT_APP_BACKEND_URL}/comment/${id}`,\r\n                {\r\n                    comment:input\r\n                },\r\n                { headers: { authorization: \"Bearer \" + token } }\r\n              );\r\n              setBooks({...books , comment: result.data.comment})\r\n          } catch (err) {\r\n              console.log(err);\r\n          }\r\n      }\r\n    const deletecomment =async (comment)=>{\r\n        try {\r\n            const result = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/comment/${id}`,\r\n        {comment:comment},\r\n        {headers: { authorization: \"Bearer \" + token }})\r\n        setBooks({...books , comment: result.data.comment})\r\n        } catch (err) {\r\n            console.log(err.res.data,\"error\");\r\n        }\r\n    }\r\n\r\n    const addrating = (e)=>{\r\n      setRating(e.target.value)\r\n    }\r\n    \r\n    function handleOnEnter (text) {\r\n        console.log('enter', text)\r\n      }\r\n\r\n    const ratingChanged = (newRating) => {\r\n      setRating(newRating);\r\n};\r\n    return (\r\n        <div>  \r\n         {books?\r\n        <div >\r\n        <div className='onebookmain'>\r\n            <div className=\"book\">\r\n              <img className=\"bookImg\" src={books.img} alt=\"\" />\r\n              <a className='href' href={books.url} target=\"_blank\">want to read?</a>\r\n            </div>\r\n            <div className='description'>\r\n              <h3>{books.name}</h3>\r\n              <p>By: {books.auther}</p> <br />\r\n              <p>{books.description}</p>\r\n              <ReactStars\r\n                count={5}\r\n                onChange={ratingChanged}\r\n                size={24}\r\n                value={books.rating}\r\n                activeColor=\"#ffd700\" />\r\n            </div>\r\n          </div><div className='comments'>\r\n              <div>\r\n                <input    type=\"text\" onChange={(e) => { changeComment(e); } } ></input>\r\n                {/* <select id=\"cars\" name=\"cars\" onChange={(e)=>{addrating(e)}}>\r\n    <option value=\"0\">Rate:</option>\r\n    <option>1</option>\r\n    <option>2</option>\r\n    <option>3</option>\r\n    <option>4</option>\r\n    <option>5</option>\r\n  </select> */}\r\n                <button onClick={()=>{addComment()}}>comment</button>\r\n              </div>\r\n              <h1>{books.comment && books.comment.map((elm, i) => {\r\n                return <div className='singleComment' key={i}>\r\n\r\n                    {/* <img src={elm.img} alt=\"\" /> */}\r\n                    {/* <ReactStars\r\n                count={5}\r\n                onChange={ratingChanged}\r\n                size={24}\r\n                value={elm.rating}\r\n                activeColor=\"#ffd700\" /> */}\r\n                  <p> {elm.userName}:</p>\r\n                  <p >{parse( elm.comment)}</p>\r\n                  <p>{elm.rating}</p>\r\n                  <button className='deletecommentButton' onClick={() => { deletecomment(elm.comment); } }><RiDeleteBin5Line/> </button>\r\n                </div>;\r\n              })}</h1>\r\n              <div>\r\n              {/* <CKEditor\r\n          editor={ClassicEditor}\r\n          data={input}\r\n          onChange={(e, editor) => { const data = editor.getData()\r\n            setInput(data)\r\n          }}\r\n        /> */}\r\n              </div>\r\n\r\n\r\n        {/* <InputEmoji\r\n          value={input}\r\n          onChange={setInput}\r\n          cleanOnEnter\r\n          onEnter={addComment}\r\n          placeholder=\"Type a message\"\r\n        /> */}\r\n\r\n\r\n            </div>\r\n            </div>\r\n         :\"\"}\r\n        </div>\r\n    )\r\n}\r\n","import { initializeApp } from \"firebase/app\";\r\n\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDgejwbDLos-S3QbsJe37RMDYNog6xBRwM\",\r\n  authDomain: \"upload-img-89628.firebaseapp.com\",\r\n  projectId: \"upload-img-89628\",\r\n  storageBucket: \"upload-img-89628.appspot.com\",\r\n  messagingSenderId: \"789140862794\",\r\n  appId: \"1:789140862794:web:fcad7bf735363f3cfdb3b3\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nconst storage = firebase.storage();\r\n\r\nexport { storage, firebase as default };","import React , {useState , useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { useParams } from 'react-router-dom';\r\nimport \"./Profile.css\"\r\nimport {useHistory} from \"react-router-dom\"\r\nimport { render } from \"react-dom\";\r\n\r\nimport { storage } from \"../firebase/firebase\";\r\n\r\n\r\n\r\nexport default function Profile({token , setToken}) {\r\nconst [user, setUser] = useState([])\r\nconst history = useHistory();\r\n\r\n//////////////////////////////////////////////\r\nconst [name, setName] = useState(\"\")\r\nconst [email, setEmail] = useState(\"\")\r\nconst [password, setpassword] = useState(\"\")\r\nconst [image, setImage] = useState(null);\r\nconst [bio, setBio] = useState(\"\")\r\n\r\n\r\n\r\nconst [url, setUrl] = useState(\"\");\r\nconst [progress, setProgress] = useState(0);\r\n\r\n\r\n//////////////////////\r\nconst [updateVes, setupdateVes] = useState(false)\r\n//////////////////////////////////////////////\r\n// const { id }= useParams()\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/user`,\r\n        \r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n\r\n        )\r\n       \r\n        .then(res =>{\r\n            setUser(res.data)\r\n          \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    \r\n        \r\n    }, [user , url ,progress , image])\r\n    \r\n    const on = () => {\r\n        \r\n            setupdateVes(!updateVes)\r\n    }\r\n\r\n    const updateUserName = () =>{\r\n        const res = axios.put(`${process.env.REACT_APP_BACKEND_URL}/username` , \r\n        {\r\n        newName:name ,\r\n        },\r\n        {headers: { authorization: \"Bearer \" + token },\r\n        }\r\n        )\r\n        setName(res.data)\r\n        }\r\n    const updateUserEmail = () =>{\r\n        const res = axios.put(`${process.env.REACT_APP_BACKEND_URL}/useremail` ,   {\r\n        newEmail:email ,\r\n        },\r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n      \r\n        )\r\n        setEmail(res.data)\r\n        }\r\n\r\n        const updateUserImage = () =>{\r\n        const res = axios.put(`${process.env.REACT_APP_BACKEND_URL}/userimage` , \r\n        {\r\n        newImg:url\r\n        },\r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n       \r\n        )\r\n        setImage(res.data)\r\n        }\r\n        const updateUserBio = () =>{\r\n        const res = axios.put(`${process.env.REACT_APP_BACKEND_URL}/userbio` , \r\n        {\r\n        newBio:bio ,\r\n        },\r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n       \r\n        )\r\n        setBio(res.data)\r\n        }\r\n\r\n//////////////////////////////////////////////\r\n    const updateName = (e)=>{\r\n        setName(e.target.value)\r\n\r\n    }\r\n    const updateEmail = (e)=>{\r\n        setEmail(e.target.value)\r\n    }\r\n    const updatePassword = (e)=>{\r\n        setpassword(e.target.value)\r\n    }\r\n\r\n\r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n\r\n    const updateImg = (e)=>{\r\n        if (e.target.files[0]) {\r\n        setImage(e.target.files[0]);\r\n    }\r\n    }\r\n\r\n    \r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n  const handleUpload = () => {\r\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        const progress = Math.round(\r\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n        );\r\n        setProgress(progress);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"images\")\r\n          .child(image.name)\r\n          .getDownloadURL()\r\n          .then(url => {\r\n            setUrl(url);\r\n          });\r\n      }\r\n    );\r\n  };\r\n\r\n\r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n    //////////////////////////////////////////\r\n    const updateBio = (e)=>{\r\n        setBio(e.target.value)\r\n    }\r\n\r\n\r\n    const deleteProfile = async (id, index)=>{\r\n        setToken(\"\");\r\n        const res = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/user/${id}`,{\r\n          headers:{authorization: \"Bearer \" + token},\r\n        });\r\n        \r\n        if (res.data == \"delete\"){\r\n        setUser(user);\r\n        \r\n        }\r\n        if (res.status === 200){\r\n            history.push(\"/SignUp\")\r\n        }\r\n          }\r\n          const Result =  <>\r\n            <div className='userup'>\r\n            <label htmlFor=\"\">Name</label>\r\n            <input type=\"text\" value={name} onChange={(e)=>{updateName(e)}}/>\r\n            {/* <label htmlFor=\"\"  >Email</label>\r\n            <input type=\"text\" onChange={(e)=>{updateEmail(e)}}/> */}\r\n            {/* <label htmlFor=\"\"  >Password</label>\r\n            <input type=\"text\" onChange={(e)=>{updatePassword(e)}}/> */}\r\n            <label htmlFor=\"\" >image</label>\r\n            <input type=\"file\"   onChange={(e)=>{updateImg(e)}}/>\r\n            <button onClick={()=>{handleUpload()}}>Upload</button>\r\n            <div className=\"output\">\r\n      </div>\r\n            <label htmlFor=\"\"  >Bio</label>\r\n            <textarea name=\"\" id=\"\" value={bio}  cols=\"25\" rows=\"5\" onChange={(e)=>{updateBio(e)}}></textarea>\r\n            <button onClick={()=>{\r\n                // handleUpload();\r\n                updateUserName();\r\n                updateUserBio();\r\n                updateUserImage();\r\n                setupdateVes(false);\r\n                }}>Save</button>\r\n            </div>\r\n              </>\r\n\r\n    return (\r\n        <div>\r\n        {/* <h1 className='user'>Profile</h1> */}\r\n\r\n        <div className='user'>\r\n            <img className='profileImg' src={user.img} alt=\"\" />\r\n             <h1>{user.name}</h1>\r\n             {/* <h1>{user.email}</h1> */}\r\n             <h1>{user.bio}</h1>\r\n             <h1>{user.admin}</h1>\r\n             <div className='buttons'>\r\n             <button  className='del'  onClick={()=>{deleteProfile()}}>Delete profile</button>\r\n             <button className='up' onClick={on}>Update profile</button>\r\n\r\n             {/* <img src={url || \"http://via.placeholder.com/300\"} alt=\"firebase-image\" /> */}\r\n             { updateVes ? Result : \"\" }\r\n             </div>\r\n            </div>\r\n\r\n           \r\n        </div>\r\n    )\r\n}\r\nrender(<Profile />, document.querySelector(\"#root\"));\r\n","import axios from 'axios'\r\nimport React , {useState , useEffect} from 'react'\r\nimport \"./AddBook.css\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\n\r\n\r\nexport default function AddBook({token}) {\r\n    const [books, setbooks] = useState([])\r\n    const [name, setname] = useState(\"\")\r\n    const [auther, setauther] = useState(\"\")\r\n    const [img, setimg] = useState(\"\")\r\n    const [description, setdescription] = useState(\"\")\r\n    const [rating, setRating] = useState(0)\r\n    const [url, seturl] = useState(\"\")\r\n\r\n\r\n    const history = useHistory();\r\n\r\n    const [user, setUser] = useState([])\r\n\r\n    \r\n\r\nconst addName = (e)=>{\r\n    setname(e.target.value)\r\n}\r\nconst addAuther = (e)=>{\r\n    setauther(e.target.value)\r\n}\r\nconst addImg = (e)=>{\r\n    setimg(e.target.value)\r\n}\r\nconst addDescription = (e)=>{\r\n    setdescription(e.target.value)\r\n}\r\nconst addrating = (e)=>{\r\n    setRating(e.target.value)\r\n  }\r\n  const addUrl = (e)=>{\r\n    seturl(e.target.value)\r\n  }\r\n\r\nconst addBook = async()=>{\r\n    if(!name && !auther && !img && !description){\r\n        return;\r\n      }\r\n      const res = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/addbook` , {\r\n          name:name ,\r\n          auther:auther,\r\n          img:img,\r\n          description:description,\r\n          rating:rating,\r\n          url:url\r\n      },\r\n      {\r\n        headers:{authorization: \"Bearer \" + token},\r\n        })\r\n      setbooks(res.data)\r\n      if (res.status === 201){\r\n        history.push(\"/books\")\r\n    }\r\n}\r\n\r\n\r\nuseEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/getUsers`,\r\n        \r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n\r\n        )\r\n       \r\n        .then(res =>{\r\n            setUser(res.data)\r\n          \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    \r\n        \r\n    }, [user])\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    // const goToChat=(id,name)=>{\r\n    //   history.push(`/Chat/${id}`);\r\n    // }\r\n\r\n\r\n    // const deleteUser = async (id, index)=>{\r\n    //     const res = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/AdminDeleteUser/${id}`,\r\n    //     {headers:{authorization: \"Bearer \" + token},}\r\n    //     );\r\n        \r\n    //     if (res.data == \"delete\"){\r\n    //     setUser(user);\r\n        \r\n    //     }\r\n    //       }\r\n//  name ,auther, img ,description,\r\n\r\n    return (\r\n        <div className='wholee'>\r\n        <div className='users'>\r\n        <h2>Users</h2>\r\n            {user && user.map((elme , i )=>{\r\n                return (<div>\r\n                <div className='usersInfo'>\r\n                <img className='imgs' src={elme.img} alt=\"\" />\r\n                <h3 className='username'>{elme.name}</h3> <br />\r\n                <p className='join'>Joined {elme.time}</p>\r\n                {/* <button onClick={()=>{goToChat(elme._id)}}>chat </button> */}\r\n\r\n                {/* <button onClick={()=>{deleteUser(elme._id)}}>delete</button> */}\r\n                {/* {elme.admin ? (\r\n                \"\"\r\n              ) : (\r\n                <button\r\n                  className=\"btn-users\"\r\n                  onClick={() => {\r\n                    deleteUser(elme._id);\r\n                  }}\r\n                >\r\n                  Delete User\r\n                </button>\r\n              )} */}\r\n                </div>\r\n             \r\n                </div>)\r\n            })}\r\n        </div>\r\n        <div className=\"formbox\">\r\n            <h1>add book</h1>\r\n            <form id=\"form\" >\r\n            <label for=\"\">Name</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='name' onChange={(e)=>{addName(e)}}/>\r\n            <label for=\"\">Auther</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='auther'  onChange={(e)=>{addAuther(e)}}/>\r\n            <label for=\"\">Image</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='img'  onChange={(e)=>{addImg(e)}}/>\r\n            <label for=\"\">description</label>\r\n            <textarea name=\"\" className=\"asd\" placeholder='description'  onChange={(e)=>{addDescription(e)}} id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n            <label for=\"\">Link</label>\r\n            <input type=\"text\" className=\"asd\" placeholder='book link'  onChange={(e)=>{addUrl(e)}}/>\r\n            <label for=\"\">Rating</label>\r\n            {/* <input type=\"text\" className=\"asd\" placeholder='Rating'  onChange={(e)=>{addrating(e)}}/> */}\r\n            <select id=\"cars\" name=\"cars\" onChange={(e)=>{addrating(e)}}>\r\n    <option value=\"0\">Rate:</option>\r\n    <option>1</option>\r\n    <option>2</option>\r\n    <option>3</option>\r\n    <option>4</option>\r\n    <option>5</option>\r\n  </select> <br />\r\n            <button type=\"button\" id=\"btn\" className='button' onClick={()=>{addBook()}}>Add</button>\r\n            </form>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React ,{ useState ,useEffect} from 'react'\r\nimport io from \"socket.io-client\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport \"./Chat.css\"\r\n\r\nconst socket = io.connect(`${process.env.REACT_APP_BACKEND_URL}` , { transports : ['websocket'] });\r\n\r\n\r\nlet room = \"\"\r\nconst hiddChaild=true\r\nexport default function Chat({token}) {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [currentMessage, setCurrentMessage] = useState(\"\");\r\n  const [messageList, setMessageList] = useState([]);\r\n  // const [userImg, setuserImg] = useState(\"\")\r\n  const {id,name}=useParams()\r\n\r\n    \r\n\r\n    const [userId, setUserId] = useState(\"\")\r\n    // const [userName, setuserName] = useState(\"\")\r\n\r\n\r\n\r\n    \r\n  useEffect(() => {\r\n    if(id>userId){\r\n      const sum=id+userId\r\n    room = sum\r\n\r\n    }else{\r\n      const sum=userId+id\r\n      room = sum\r\n  \r\n    }\r\n\r\n\r\n    const getMessage=async()=>{\r\n      console.log(room,\"inget\");\r\n      const res1= await axios.get(`${process.env.REACT_APP_BACKEND_URL}/getChat/${room}`)\r\n\r\n        setMessageList(res1.data.chatArr)\r\n      \r\n    }\r\n    getMessage()\r\n\r\n    const joinRoom = () => {\r\n      console.log(room ,\"room\");\r\n      if (room !== \"\") {\r\n        socket.emit(\"join_room\", room);\r\n        \r\n      }\r\n    };\r\n    joinRoom()\r\n  /////////////////////\r\n\r\n  }, [])\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/user`,\r\n    \r\n    {headers: { authorization: \"Bearer \" + token },\r\n    },\r\n\r\n    )\r\n   \r\n    .then(res =>{\r\n        setUserName(res.data.name);\r\n        // setuserImg(res.data.img)\r\n        // console.log(res.data.name);\r\n      \r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n\r\n    \r\n}, [])\r\n\r\n\r\n\r\n  const sendMessage = async () => {\r\n    if (currentMessage !== \"\") {\r\n      const messageData = {\r\n        room: room,\r\n        userName:userName ,\r\n        message: currentMessage,\r\n        time:\r\n          new Date(Date.now()).getHours() +\r\n          \":\" +\r\n          new Date(Date.now()).getMinutes(),\r\n      };\r\n\r\n\r\n      const res= await axios.post(`${process.env.REACT_APP_BACKEND_URL}/saveChat`,{\r\n        room: room,\r\n        userName:userName ,\r\n        message: currentMessage,\r\n        recipient:id,\r\n        time:\r\n          new Date(Date.now()).getHours() +\r\n          \":\" +\r\n          new Date(Date.now()).getMinutes(),\r\n          \r\n      },\r\n        { headers: { authorization: `Bearer ${token}` },\r\n      })\r\n      console.log(res.data);\r\n      console.log(res.data.chatArr);\r\n      // setUserName(res.userName)\r\n      // console.log(res.userName);\r\n\r\n\r\n      await socket.emit(\"send_message\", messageData);\r\n      setMessageList( [...messageList, messageData]);\r\n      setCurrentMessage(\"\");\r\n    }\r\n\r\n\r\n \r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (data) => {\r\n      setMessageList((list) => [...list, data]);\r\n    });\r\n  }, [socket]);\r\n\r\n// console.log(userName);\r\n// console.log(userId);\r\n\r\n\r\n  return (\r\n  <div className=\"App\">\r\n <div className=\"chat-window\">\r\n\r\n\r\n    <div className=\"chat-header\">\r\n      <p>discussion</p>\r\n    </div>\r\n    <div className=\"chat-body\">\r\n      <ScrollToBottom className=\"message-container\">\r\n        {messageList.map((elme) => {\r\n      \r\n          return (\r\n            <div\r\n              className=\"message\"\r\n              id={userName === elme.userName ? \"you\" : \"other\" && userId === elme.userId ? \"you\" : \"other\"}>\r\n              <div>\r\n              {/* <img src={userImg} alt=\"\" className='useimg'/> */}\r\n                <div className=\"message-content\">\r\n                  <p>{elme.message}</p>\r\n                </div>\r\n                <div className=\"message-meta\">\r\n                  <p id=\"time\">{elme.time}</p>\r\n                  <p id=\"author\">{elme.userName}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </ScrollToBottom>\r\n    </div>\r\n    <div className=\"chat-footer\">\r\n      <input\r\n        type=\"text\"\r\n        value={currentMessage}\r\n        placeholder=\"Sand Message...\"\r\n        onChange={(event) => {\r\n          setCurrentMessage(event.target.value);\r\n        }}\r\n        onKeyPress={(event) => {\r\n          event.key === \"Enter\" && sendMessage();\r\n        }}\r\n      />\r\n      <button onClick={sendMessage}>&#9658;</button>\r\n    </div>\r\n    </div>\r\n    </div>\r\n\r\n)}  ","import React , {useState , useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { useParams } from 'react-router-dom';\r\nimport \"./UserProfile.css\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\n\r\n\r\n\r\n\r\nexport default function UserProfile({token}) {\r\n    const [user, setUser] = useState(null)\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/getOneUser/${id}`,\r\n        \r\n        {headers: { authorization: \"Bearer \" + token },\r\n        },\r\n\r\n        )\r\n       \r\n        .then(res =>{\r\n            setUser(res.data)\r\n          \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    \r\n        \r\n    }, [user])\r\n\r\n    const goToChat=(id,name)=>{\r\n      history.push(`/Chat/${id}`);\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>user profile</h1>\r\n\r\n            {user ?\r\n                <div className='users'>\r\n                    <img className='userImg' src={user.img} alt=\"\" />\r\n                    <h3>{user.name}</h3>\r\n                    <button onClick={()=>{goToChat(user._id)}}>chat </button>\r\n                    </div>\r\n            :\"\"}\r\n\r\n\r\n                    \r\n        </div>\r\n    )\r\n}\r\n","import React , {useState , useEffect} from \"react\";\r\nimport { Route , BrowserRouter} from \"react-router-dom\";\r\nimport Home from \"./componants/Home\";\r\nimport Books from \"./componants/Books\";\r\nimport Favorite from \"./componants/Favorite\";\r\nimport LogIn from \"./componants/Login\";\r\nimport Header from \"./componants/Header\";\r\nimport SignUp from \"./componants/SignUp\"\r\nimport OneBook from \"./componants/OneBook\"\r\nimport Profile from \"./componants/Profile\"\r\nimport AddBook from \"./componants/AddBook\"\r\nimport Chat from \"./componants/Chat\"\r\nimport UserProfile from \"./componants/UserProfile\";\r\nrequire(\"dotenv\").config();\r\n\r\nfunction App() {\r\n  console.log(process.env.REACT_APP_BACKEND_URL , \"backend url\");\r\n  const [token, setToken] = useState(() => {\r\n    const saved = localStorage.getItem(\"token\");\r\n    const initialValue = JSON.parse(saved);\r\n    return initialValue ; });\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"token\", JSON.stringify(token));\r\n  }, [token]);\r\n\r\n  return (\r\n    \r\n    \r\n    <div className=\"App\">\r\n    \r\n    <BrowserRouter>\r\n    <Header token={token} setToken={setToken}/>\r\n      <Route exact path=\"/\" render={()=>{return <Home token={token} setToken={setToken}/>}}/>\r\n      <Route exact path=\"/Books\" render={()=>{return <Books token={token}/>}} />\r\n      <Route exact path=\"/Favorite\"  render={()=>{return <Favorite token={token}/>}} />\r\n      <Route exact path=\"/login\"  render={()=>{return <LogIn setToken={setToken}/>}}/>\r\n      <Route exact path=\"/SignUp\" component={SignUp} />\r\n      <Route exact path=\"/OneBook\"  render={()=>{return <OneBook token={token}/>}} />\r\n      <Route path=\"/book/:id\"  render={()=>{return <OneBook token={token}/>}}/>\r\n      <Route path=\"/Profile\" render={()=>{return <Profile token={token} setToken={setToken}/>}}/>\r\n      <Route exact path=\"/AddBook\" render={()=>{return <AddBook token={token}  />}}/>\r\n      <Route exact path=\"/Chat/:id/:name\" render={()=>{return <Chat token={token}  />}}/>\r\n      <Route exact path=\"/UserProfile/:id/:name\" render={()=>{return <UserProfile token={token}  />}}\r\n/>\r\n\r\n      {/* render={()=>{return <UserProfile token={token}  />}} */}\r\n\r\n\r\n      \r\n\r\n\r\n\r\n      \r\n      </BrowserRouter>\r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}